!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n.r(e);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var r=new WeakMap,o=function(t){return"function"==typeof t&&r.has(t)},i=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e!==n;){var r=e.nextSibling;t.removeChild(e),e=r}},u={},s={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var l="{{lit-".concat(String(Math.random()).slice(2),"}}"),c="\x3c!--".concat(l,"--\x3e"),f=new RegExp("".concat(l,"|").concat(c)),p=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parts=[],this.element=n;for(var r=[],o=[],i=document.createTreeWalker(n.content,133,null,!1),a=0,u=-1,s=0,c=e.strings,p=e.values.length;s<p;){var h=i.nextNode();if(null!==h){if(u++,1===h.nodeType){if(h.hasAttributes()){for(var m=h.attributes,b=m.length,g=0,w=0;w<b;w++)d(m[w].name,"$lit$")&&g++;for(;g-- >0;){var _=c[s],x=y.exec(_)[2],k=x.toLowerCase()+"$lit$",O=h.getAttribute(k);h.removeAttribute(k);var S=O.split(f);this.parts.push({type:"attribute",index:u,name:x,strings:S}),s+=S.length-1}}"TEMPLATE"===h.tagName&&(o.push(h),i.currentNode=h.content)}else if(3===h.nodeType){var E=h.data;if(E.indexOf(l)>=0){for(var j=h.parentNode,P=E.split(f),N=P.length-1,T=0;T<N;T++){var L=void 0,C=P[T];if(""===C)L=v();else{var V=y.exec(C);null!==V&&d(V[2],"$lit$")&&(C=C.slice(0,V.index)+V[1]+V[2].slice(0,-"$lit$".length)+V[3]),L=document.createTextNode(C)}j.insertBefore(L,h),this.parts.push({type:"node",index:++u})}""===P[N]?(j.insertBefore(v(),h),r.push(h)):h.data=P[N],s+=N}}else if(8===h.nodeType)if(h.data===l){var A=h.parentNode;null!==h.previousSibling&&u!==a||(u++,A.insertBefore(v(),h)),a=u,this.parts.push({type:"node",index:u}),null===h.nextSibling?h.data="":(r.push(h),u--),s++}else for(var M=-1;-1!==(M=h.data.indexOf(l,M+1));)this.parts.push({type:"node",index:-1}),s++}else i.currentNode=o.pop()}for(var R=0,H=r;R<H.length;R++){var q=H[R];q.parentNode.removeChild(q)}},d=function(t,e){var n=t.length-e.length;return n>=0&&t.slice(n)===e},h=function(t){return-1!==t.index},v=function(){return document.createComment("")},y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function m(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var g=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.__parts=[],this.template=e,this.processor=n,this.options=r}var e,n,r;return e=t,(n=[{key:"update",value:function(t){var e=0,n=!0,r=!1,o=void 0;try{for(var i,a=this.__parts[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;void 0!==u&&u.setValue(t[e]),e++}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=!0,l=!1,c=void 0;try{for(var f,p=this.__parts[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;void 0!==d&&d.commit()}}catch(t){l=!0,c=t}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}},{key:"_clone",value:function(){for(var t,e=i?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,o=document.createTreeWalker(e,133,null,!1),a=0,u=0,s=o.nextNode();a<r.length;)if(t=r[a],h(t)){for(;u<t.index;)u++,"TEMPLATE"===s.nodeName&&(n.push(s),o.currentNode=s.content),null===(s=o.nextNode())&&(o.currentNode=n.pop(),s=o.nextNode());if("node"===t.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(s.previousSibling),this.__parts.push(l)}else{var c;(c=this.__parts).push.apply(c,m(this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options)))}a++}else this.__parts.push(void 0),a++;return i&&(document.adoptNode(e),customElements.upgrade(e)),e}}])&&b(e.prototype,n),r&&b(e,r),t}();function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var k=function(){function t(e,n,r,o){w(this,t),this.strings=e,this.values=n,this.type=r,this.processor=o}return x(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var o=this.strings[r],i=o.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===o.indexOf("--\x3e",i+1);var a=y.exec(o);e+=null===a?o+(n?l:c):o.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+l}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}]),t}();function O(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t,e,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),t}function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var V=function(t){return null===t||!("object"===C(t)||"function"==typeof t)},A=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])},M=function(){function t(e,n,r){N(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(var o=0;o<r.length-1;o++)this.parts[o]=this._createPart()}return L(t,[{key:"_createPart",value:function(){return new R(this)}},{key:"_getValue",value:function(){for(var t=this.strings,e=t.length-1,n="",r=0;r<e;r++){n+=t[r];var o=this.parts[r];if(void 0!==o){var i=o.value;if(V(i)||!A(i))n+="string"==typeof i?i:String(i);else{var a=!0,u=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;n+="string"==typeof f?f:String(f)}}catch(t){u=!0,s=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw s}}}}}return n+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}(),R=function(){function t(e){N(this,t),this.value=void 0,this.committer=e}return L(t,[{key:"setValue",value:function(t){t===u||V(t)&&t===this.value||(this.value=t,o(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;o(this.value);){var t=this.value;this.value=u,t(this)}this.value!==u&&this.committer.commit()}}]),t}(),H=function(){function t(e){N(this,t),this.value=void 0,this.__pendingValue=void 0,this.options=e}return L(t,[{key:"appendInto",value:function(t){this.startNode=t.appendChild(v()),this.endNode=t.appendChild(v())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=v()),t.__insert(this.endNode=v())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=v()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;o(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=u,t(this)}var e=this.__pendingValue;e!==u&&(V(e)?e!==this.value&&this.__commitText(e):e instanceof k?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):A(e)?this.__commitIterable(e):e===s?(this.value=s,this.clear()):this.__commitText(e))}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this.__commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof g&&this.value.template===e)this.value.update(t.values);else{var n=new g(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r=this.value,o=0,i=!0,a=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;void 0===(n=r[o])&&(n=new t(this.options),r.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(r[o-1])),n.setValue(c),n.commit(),o++}}catch(t){a=!0,u=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}o<r.length&&(r.length=o,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;a(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),q=function(){function t(e,n,r){if(N(this,t),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}return L(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;o(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=u,t(this)}if(this.__pendingValue!==u){var e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=u}}}]),t}(),I=function(t){function e(t,n,r){var o;return N(this,e),(o=O(this,E(e).call(this,t,n,r))).single=2===r.length&&""===r[0]&&""===r[1],o}return j(e,M),L(e,[{key:"_createPart",value:function(){return new z(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:S(E(e.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),e}(),z=function(t){function e(){return N(this,e),O(this,E(e).apply(this,arguments))}return j(e,R),e}(),D=!1;try{var $={get capture(){return D=!0,!1}};window.addEventListener("test",$,$),window.removeEventListener("test",$,$)}catch(t){}var W=function(){function t(e,n,r){var o=this;N(this,t),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(t){return o.handleEvent(t)}}return L(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;o(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=u,t(this)}if(this.__pendingValue!==u){var e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=B(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=u}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),t}(),B=function(t){return t&&(D?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var X=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"handleAttributeExpressions",value:function(t,e,n,r){var o=e[0];return"."===o?new I(t,e.slice(1),n).parts:"@"===o?[new W(t,e.slice(1),r.eventContext)]:"?"===o?[new q(t,e.slice(1),n)]:new M(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new H(t)}}])&&F(e.prototype,n),r&&F(e,r),t}());
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
function U(t){var e=G.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},G.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(l);return void 0===(n=e.keyString.get(r))&&(n=new p(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var G=new Map,J=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");var K=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new k(t,n,"html",X)};function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),tt(this,et(n).apply(this,arguments))}var r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(n,t),r=n,(o=[{key:"render",value:function(){}},{key:"invalidate",value:function(){var t,e=(t=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.needsRender){t.next=7;break}if(e){t.next=6;break}return this.needsRender=!0,t.next=5,0;case 5:this.needsRender=!1;case 6:n=this.render(),r=this.shadowRoot,o=void 0,i=void 0,void 0===(i=J.get(r))&&(a(r,r.firstChild),J.set(r,i=new H(Object.assign({templateFactory:U},o))),i.appendInto(r)),i.setValue(n),i.commit();case 7:case"end":return t.stop()}var n,r,o,i},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Y(i,r,o,a,u,"next",t)}function u(t){Y(i,r,o,a,u,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()}])&&Z(r.prototype,o),i&&Z(r,i),n}()},ot=function(){return(ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var it=function(t,e){void 0===t&&(t={}),void 0===e&&(e=null);var n=t||{},r=[];function o(){r.forEach(function(t){return t(n)})}return{middleware:e,setState:function(t){n=ot({},n,"function"==typeof t?t(n):t),o()},subscribe:function(t){return r.push(t),function(){r.splice(r.indexOf(t),1)}},getState:function(){return n},reset:function(){n=t,o()}}},at=it({info:[],todoList:[],login:!1});function ut(t){return function(){var e=at.getState();e=t.apply(void 0,[e].concat(Array.prototype.slice.call(arguments))),at.setState(e)}}ut(function(t){return void 0===t.info.count?t.info.count=0:t.info.count++,t}),ut(function(t){return firebase.firestore().collection("TEST").get().then(function(t){t.forEach(function(t){console.info(t.id,t.data())})}),t});var st=ut(function(t,e,n){var r=new XMLHttpRequest;if(!r)throw new Error("XHR 호출 불가");return r.open("POST","https://us-central1-taeuk-project.cloudfunctions.net/isAdmin"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.addEventListener("readystatechange",function(){r.readyState===r.DONE&&(200!==r.status&&201!==r.status||(firebase.auth().signInAnonymously().catch(function(t){var e=t.code,n=t.message;console.error(e,n)}),function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&Dt.renderPage("app-main","/")}(JSON.parse(r.responseText).result),t.login=!0,at.setState(t)))}),r.send("id=".concat(e,"&password=").concat(n)),t});var lt=ut(function(t,e){return Dt.renderPage("".concat(e,"-main"),e),t});ut(function(t){return firebase.auth().onAuthStateChanged(function(e){if(e){var n=e.isAnonymous,r=e.uid;console.info(n,r),t.login=!0,at.setState(t)}else t.login=!1,at.setState(t)}),t}),ut(function(t,e){return document.querySelector("app-main").shadowRoot.querySelector("main").innerHTML=e,t}),ut(function(t,e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.send(),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?t(r.response):n(r.statusText))}})}),ut(function(t,e){return t.todoList.push({title:e,completed:!1,id:"item-xxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})}),t}),ut(function(t,e){return t.todoList=t.todoList.filter(function(t){return t.id!==e}),t}),ut(function(t,e){var n=t.todoList.find(function(t){return t.id===e});return n.completed=!n.completed,t}),ut(function(t,e,n){return t.todoList.find(function(t){return t.id===e}).title=n,t}),ut(function(t,e){return t.todoList.forEach(function(t){t.completed=e}),t}),ut(function(t){return t.todoList=t.todoList.filter(function(t){return!t.completed}),t});function ct(){var t=dt(['\n<style>\n.hero-full-screen {\n  width: 100vw;\n  height: 100vh;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  background: url("https://images.pexels.com/photos/378273/pexels-photo-378273.jpeg?w=1260&h=750&auto=compress&cs=tinysrgb") center center no-repeat;\n  background-size: cover;\n}\n\n.hero-full-screen .middle-content-section {\n  text-align: center;\n  color: #fefefe;\n}\n\n.hero-full-screen .top-content-section {\n  width: 100%;\n}\n\n.hero-full-screen .bottom-content-section {\n  padding: 1rem;\n}\n\n.hero-full-screen .bottom-content-section svg {\n  height: 3.75rem;\n  width: 3.75rem;\n  fill: #fefefe;\n}\n\n.hero-full-screen .top-bar {\n  background: transparent;\n}\n\n.hero-full-screen .top-bar .menu {\n  background: transparent;\n}\n\n.hero-full-screen .top-bar .menu-text {\n  color: #fefefe;\n}\n\n.hero-full-screen .top-bar .menu li {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.hero-full-screen .top-bar .menu a {\n  color: #fefefe;\n  font-weight: bold;\n}\n</style>\n']);return ct=function(){return t},t}function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(){var t=dt([' \n    <link rel="stylesheet" type="text/css" href="/src/css/foundation.min.css">\n\t\t','\n\t\t<div class="page-main">\n\t\t\t<div class="hero-full-screen">\n\t\t\t\t<div class="top-content-section">\n\t\t\t\t\t<div class="top-bar">\n\t\t\t\t\t\t<div class="top-bar-left">\n\t\t\t\t\t\t\t<ul class="menu">\n\t\t\t\t\t\t\t\t<li class="menu-text"><img src="http://placehold.it/75x30" alt="logo"></li>\n\t\t\t\t\t\t\t\t<li><a href="#">Menu</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="middle-content-section">\n\t\t\t\t\t<h1>Main Page</h1>\n\t\t\t\t\t<button class="button large logout">Logout</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="bottom-content-section" data-magellan data-threshold="0">\n\t\t\t\t\t<a href="#main-content-section"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 12c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12 12-5.373 12-12zm-18.005-1.568l1.415-1.414 4.59 4.574 4.579-4.574 1.416 1.414-5.995 5.988-6.005-5.988z"/></svg></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id="main-content-section" data-magellan-target="main-content-section"></div>\n\t\t</div>\n        ']);return pt=function(){return t},t}function dt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=vt(this,yt(e).call(this)))._handlers={},t.attachShadow({mode:"open"}),t.invalidate(),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(e,rt(HTMLElement)),n=e,(r=[{key:"connectedCallback",value:function(){var t=this.shadowRoot,e=this._handlers;e.onClick=this._onClick.bind(this),t.addEventListener("click",e.onClick)}},{key:"disconnectedCallback",value:function(){this.shadowRoot.removeEventListener("click",this._handlers.onClick)}},{key:"_onClick",value:function(t){t.target.classList.contains("logout")&&lt("login")}},{key:"render",value:function(){return K(pt(),gt)}}])&&ht(n.prototype,r),o&&ht(n,o),e}(),gt=K(ct());function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(){var t=kt(["\n<style>\n.sign-in-form {\n  padding: 1rem 1.5em;\n  border-radius: .5rem;\n  background-color: #3d454f;\n  max-width: 320px;\n}\n\n.sign-in-form h4 {\n  color: white;\n  margin-bottom: 1rem;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.sign-in-form label {\n  text-transform: uppercase;\n  color: #adadad;\n  letter-spacing: 1px;\n  font-weight: 600;\n  margin-bottom: 1rem;\n}\n\n.sign-in-form input {\n  color: #666;\n}\n\n.sign-in-form input:focus {\n  opacity: 0.9;\n}\n\n.sign-in-form-username,\n.sign-in-form-password {\n  border-radius: 30px;\n  border: none;\n  -webkit-transition: all ease .4s;\n  transition: all ease .4s;\n}\n\n.sign-in-form-button {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border-radius: 30px;\n  border: 1px solid #fff;\n  color: #fff;\n  background-color: transparent;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  width: 100%;\n  padding: 1rem;\n  -webkit-transition: all ease .4s;\n  transition: all ease .4s;\n}\n\n.sign-in-form-button:hover {\n  background-color: #44c8ed;\n  border-color: #44c8ed;\n}\n</style>\n"]);return _t=function(){return t},t}function xt(){var t=kt(['\n    <link rel="stylesheet" type="text/css" href="/src/css/foundation.min.css">\n    ','\n    <div class="sign-in-form">\n        <h4 class="text-center">Sign In</h4>\n        <label for="sign-in-form-username">Username</label>\n        <input type="text" class="sign-in-form-username" id="sign-in-form-username" placeholder="ID"/>\n        <label for="sign-in-form-password">Password</label>\n        <input type="password" class="sign-in-form-password" id="sign-in-form-password" placeholder="PW"/>\n        <button type="submit" class="sign-in-form-button">Sign In</button>\n    </div>\n    ']);return xt=function(){return t},t}function kt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}customElements.define("app-main",bt);var Pt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=St(this,Et(e).call(this)))._handlers={},t.attachShadow({mode:"open"}),t.invalidate(!0),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(e,rt(HTMLElement)),n=e,(r=[{key:"connectedCallback",value:function(){var t=this.shadowRoot,e=this._handlers;e.onClick=this._onClick.bind(this),t.querySelector(".sign-in-form-button").addEventListener("click",e.onClick)}},{key:"disconnectedCallback",value:function(){this.shadowRoot.querySelector(".sign-in-form-button").removeEventListener("click",this._handlers.onClick)}},{key:"_onClick",value:function(){var t=this.shadowRoot.querySelector(".sign-in-form-username").value,e=this.shadowRoot.querySelector(".sign-in-form-password").value;st(t,e)}},{key:"render",value:function(){return K(xt(),Nt)}}])&&Ot(n.prototype,r),o&&Ot(n,o),e}(),Nt=K(_t());function Tt(){var t=Vt(["\n<style>\n#pageLogin {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 95vw;\n\theight: 98vh;\n\tmargin: auto;\n}\n</style>\n"]);return Tt=function(){return t},t}function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(){var t=Vt([" \n\t\t",'\n\t\t<div id="pageLogin">\n\t\t\t<login-form />\n        </div>\n        ']);return Ct=function(){return t},t}function Vt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}customElements.define("login-form",Pt);var qt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Mt(this,Rt(e).call(this))).attachShadow({mode:"open"}),t.invalidate(),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,rt(HTMLElement)),n=e,(r=[{key:"render",value:function(){return K(Ct(),It)}}])&&At(n.prototype,r),o&&At(n,o),e}(),It=K(Tt());function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}customElements.define("login-main",qt),n.d(e,"default",function(){return Dt});var Dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"init",value:function(){this.loadingDOM(),this.router().isRoute().otherwise().pushUrl()}},{key:"_onPopstate",value:function(){var t=this;window.addEventListener("popstate",function(e){console.info("[popstate]",e.state),t.router(e.state.path)})}},{key:"_onClickAnchor",value:function(){var t=this;document.addEventListener("click",function(e){if(e.target&&"A"===e.target.nodeName){e.preventDefault();var n=e.target.getAttribute("href");history.pushState({path:n},null,n),t.router(n)}})}},{key:"router",value:function(){var e=location.pathname,n=!0;return"/"===e&&(e="/app"),{isRoute:function(){return n&&(t.renderPage("".concat(e.split("/")[1],"-main"),e),n=!1),this},otherwise:function(){return n&&(t._onLoad(function(){return history.replaceState({},null,"login")}),t.renderPage("login-main",e),n=!1),this},pushUrl:function(){n&&t._onLoad(function(){return history.pushState({},null,e)})}}}},{key:"_onLoad",value:function(t){window.addEventListener("load",function(){t()})}},{key:"loadingDOM",value:function(){var t=document.querySelector("main"),e=document.createElement("div");this.emptyDOM(),e.classList.add("loading");for(var n=0;n<5;n++)e.appendChild(document.createElement("span"));t.appendChild(e)}},{key:"renderPage",value:function(t,e){this.emptyDOM();var n=document.createElement(t);document.querySelector("main").appendChild(n),history.pushState({},t,e)}},{key:"emptyDOM",value:function(){document.querySelector("main").innerHTML=""}},{key:"exceptDOM",value:function(){document.querySelector("main").innerHTML="No Route"}}],(n=null)&&zt(e.prototype,n),r&&zt(e,r),t}();Dt.init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9saWIvZGlyZWN0aXZlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbGliL2RvbS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2xpYi9wYXJ0LnRzIiwid2VicGFjazovLy8uLi9zcmMvbGliL3RlbXBsYXRlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbGliL3RlbXBsYXRlLWluc3RhbmNlLnRzIiwid2VicGFjazovLy8uLi9zcmMvbGliL3RlbXBsYXRlLXJlc3VsdC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2xpYi9wYXJ0cy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LnRzIiwid2VicGFjazovLy8uLi9zcmMvbGliL3JlbmRlci50cyIsIndlYnBhY2s6Ly8vc3JjL2xpdC1odG1sLnRzIiwid2VicGFjazovLy8uL3NyYy9saWJzL2xpdFJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGlicy9yZWR1eC16ZXJvLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJzL3N0b3JlLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJzL2FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2xvZ2luLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkaXJlY3RpdmVzIiwiV2Vha01hcCIsImlzRGlyZWN0aXZlIiwiaGFzIiwiaXNDRVBvbHlmaWxsIiwidW5kZWZpbmVkIiwid2luZG93IiwiY3VzdG9tRWxlbWVudHMiLCJwb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrIiwicmVtb3ZlTm9kZXMiLCJjb250YWluZXIiLCJzdGFydCIsImVuZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm5leHRTaWJsaW5nIiwicmVtb3ZlQ2hpbGQiLCJub0NoYW5nZSIsIm5vdGhpbmciLCJtYXJrZXIiLCJjb25jYXQiLCJTdHJpbmciLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJSZWdFeHAiLCJUZW1wbGF0ZSIsInJlc3VsdCIsImVsZW1lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwicGFydHMiLCJub2Rlc1RvUmVtb3ZlIiwic3RhY2siLCJ3YWxrZXIiLCJkb2N1bWVudCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJjb250ZW50IiwibGFzdFBhcnRJbmRleCIsImluZGV4IiwicGFydEluZGV4Iiwic3RyaW5ncyIsInZhbHVlcyIsIm5vZGUiLCJuZXh0Tm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJfbGVuZ3RoIiwiY291bnQiLCJlbmRzV2l0aCIsInN0cmluZ0ZvclBhcnQiLCJsYXN0QXR0cmlidXRlTmFtZVJlZ2V4IiwiZXhlYyIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImF0dHJpYnV0ZVZhbHVlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic3RhdGljcyIsInNwbGl0IiwicHVzaCIsInR5cGUiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJkYXRhIiwiaW5kZXhPZiIsInBhcmVudCIsInBhcmVudE5vZGUiLCJfc3RyaW5ncyIsImxhc3RJbmRleCIsIl9pIiwiaW5zZXJ0IiwiY3JlYXRlTWFya2VyIiwibWF0Y2giLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsIl9wYXJlbnQiLCJwcmV2aW91c1NpYmxpbmciLCJfaTIiLCJwb3AiLCJfaTMiLCJfbm9kZXNUb1JlbW92ZSIsInN0ciIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZV9pbnN0YW5jZV9UZW1wbGF0ZUluc3RhbmNlIiwiVGVtcGxhdGVJbnN0YW5jZSIsInRlbXBsYXRlIiwicHJvY2Vzc29yIiwib3B0aW9ucyIsInRlbXBsYXRlX2luc3RhbmNlX2NsYXNzQ2FsbENoZWNrIiwiX19wYXJ0cyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwic2V0VmFsdWUiLCJlcnIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJfcGFydCIsImNvbW1pdCIsImZyYWdtZW50IiwiY2xvbmVOb2RlIiwiaW1wb3J0Tm9kZSIsIm5vZGVJbmRleCIsIm5vZGVOYW1lIiwiX3BhcnQyIiwiaGFuZGxlVGV4dEV4cHJlc3Npb24iLCJpbnNlcnRBZnRlck5vZGUiLCJfdGhpcyRfX3BhcnRzIiwiYXBwbHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyIsImFkb3B0Tm9kZSIsInVwZ3JhZGUiLCJ0ZW1wbGF0ZV9yZXN1bHRfVGVtcGxhdGVSZXN1bHQiLCJUZW1wbGF0ZVJlc3VsdCIsInRlbXBsYXRlX3Jlc3VsdF9jbGFzc0NhbGxDaGVjayIsInRlbXBsYXRlX3Jlc3VsdF9jcmVhdGVDbGFzcyIsImh0bWwiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImdldEhUTUwiLCJpc1ByaW1pdGl2ZSIsInBhcnRzX3R5cGVvZiIsImlzSXRlcmFibGUiLCJBcnJheSIsImlzQXJyYXkiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJwYXJ0c19jbGFzc0NhbGxDaGVjayIsImRpcnR5IiwiX2NyZWF0ZVBhcnQiLCJwYXJ0c19jcmVhdGVDbGFzcyIsInBhcnRzX0F0dHJpYnV0ZVBhcnQiLCJ0ZXh0IiwidiIsInNldEF0dHJpYnV0ZSIsIl9nZXRWYWx1ZSIsIkF0dHJpYnV0ZVBhcnQiLCJjb21taXR0ZXIiLCJkaXJlY3RpdmUiLCJwYXJ0c19Ob2RlUGFydCIsIk5vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJhcHBlbmRDaGlsZCIsImVuZE5vZGUiLCJyZWYiLCJfX2luc2VydCIsIl9fY29tbWl0VGV4dCIsIl9fY29tbWl0VGVtcGxhdGVSZXN1bHQiLCJOb2RlIiwiX19jb21taXROb2RlIiwiX19jb21taXRJdGVyYWJsZSIsImNsZWFyIiwidGVtcGxhdGVGYWN0b3J5IiwidXBkYXRlIiwiaW5zdGFuY2UiLCJfY2xvbmUiLCJpdGVtUGFydCIsIml0ZW1QYXJ0cyIsIml0ZW0iLCJhcHBlbmRJbnRvUGFydCIsImluc2VydEFmdGVyUGFydCIsInBhcnRzX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwiQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCJFcnJvciIsIlByb3BlcnR5Q29tbWl0dGVyIiwiX0F0dHJpYnV0ZUNvbW1pdHRlciIsIl90aGlzIiwicGFydHNfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInBhcnRzX2dldFByb3RvdHlwZU9mIiwic2luZ2xlIiwicGFydHNfaW5oZXJpdHMiLCJQcm9wZXJ0eVBhcnQiLCJwYXJ0c19nZXQiLCJfQXR0cmlidXRlUGFydCIsImV2ZW50T3B0aW9uc1N1cHBvcnRlZCIsInBhcnRzX29wdGlvbnMiLCJjYXB0dXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfZSIsInBhcnRzX0V2ZW50UGFydCIsIkV2ZW50UGFydCIsImV2ZW50TmFtZSIsImV2ZW50Q29udGV4dCIsIl90aGlzMiIsIl9fYm91bmRIYW5kbGVFdmVudCIsImUiLCJoYW5kbGVFdmVudCIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsIm9uY2UiLCJwYXNzaXZlIiwic2hvdWxkQWRkTGlzdGVuZXIiLCJfX29wdGlvbnMiLCJnZXRPcHRpb25zIiwiZXZlbnQiLCJkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IiLCJEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IiLCJkZWZhdWx0X3RlbXBsYXRlX3Byb2Nlc3Nvcl9jbGFzc0NhbGxDaGVjayIsInByZWZpeCIsInRlbXBsYXRlQ2FjaGUiLCJ0ZW1wbGF0ZUNhY2hlcyIsInN0cmluZ3NBcnJheSIsImtleVN0cmluZyIsIk1hcCIsInNldCIsImpvaW4iLCJnZXRUZW1wbGF0ZUVsZW1lbnQiLCJyZW5kZXJfcGFydHMiLCJsaXRfaHRtbF9odG1sIiwiX2xlbiIsIl9rZXkiLCJsaXRSZW5kZXIiLCJiYXNlIiwiX2Jhc2UiLCJfY2xhc3MiLCJsaXRSZW5kZXJfY2xhc3NDYWxsQ2hlY2siLCJsaXRSZW5kZXJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImxpdFJlbmRlcl9nZXRQcm90b3R5cGVPZiIsImxpdFJlbmRlcl9pbmhlcml0cyIsIl9pbnZhbGlkYXRlIiwicmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJpbnN0YW50Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5lZWRzUmVuZGVyIiwicmVuZGVyIiwic2hhZG93Um9vdCIsImZpcnN0Q2hpbGQiLCJhc3NpZ24iLCJhcHBlbmRJbnRvIiwic3RvcCIsIl94IiwiX19hc3NpZ24iLCJjcmVhdGVTdG9yZSQxIiwiaW5pdGlhbFN0YXRlIiwibWlkZGxld2FyZSIsInN0YXRlIiwibGlzdGVuZXJzIiwiZGlzcGF0Y2hMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZiIsInNldFN0YXRlIiwic3Vic2NyaWJlIiwic3BsaWNlIiwiZ2V0U3RhdGUiLCJyZXNldCIsInN0b3JlIiwiY3JlYXRlU3RvcmUiLCJpbmZvIiwidG9kb0xpc3QiLCJsb2dpbiIsImFjdGlvbkNyZWF0b3IiLCJhY3Rpb24iLCJmaXJlYmFzZSIsImZpcmVzdG9yZSIsImNvbGxlY3Rpb24iLCJ0aGVuIiwicXVlcnlTbmFwc2hvdCIsImRvYyIsImNvbnNvbGUiLCJpZCIsInNpZ251cCIsIl9pZCIsIl9wd2QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJzdGF0dXMiLCJhdXRoIiwic2lnbkluQW5vbnltb3VzbHkiLCJlcnJvciIsImVycm9yQ29kZSIsImNvZGUiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiTWFpbiIsInJlbmRlclBhZ2UiLCJtb3ZlTWFpblBhZ2UiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwibW92ZVBhZ2UiLCJwYWdlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidXNlciIsImlzQW5vbnltb3VzIiwidWlkIiwicXVlcnlTZWxlY3RvciIsInVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2UiLCJzdGF0dXNUZXh0IiwidG9kbyIsInRpdGxlIiwiY29tcGxldGVkIiwicmVwbGFjZSIsInRvU3RyaW5nIiwiZmlsdGVyIiwiZmluZCIsIl90b2RvIiwiQXBwTWFpbiIsIkFwcF9jbGFzc0NhbGxDaGVjayIsIkFwcF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiQXBwX2dldFByb3RvdHlwZU9mIiwiX2hhbmRsZXJzIiwiYXR0YWNoU2hhZG93IiwiaW52YWxpZGF0ZSIsIkxpdFJlbmRlciIsIkhUTUxFbGVtZW50Iiwicm9vdCIsImhhbmRsZXJzIiwib25DbGljayIsIl9vbkNsaWNrIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJfdGVtcGxhdGVPYmplY3QiLCJzdHlsZSIsIl90ZW1wbGF0ZU9iamVjdDIiLCJkZWZpbmUiLCJMb2dpbkZvcm0iLCJfTGl0UmVuZGVyIiwibG9naW5fZm9ybV9jbGFzc0NhbGxDaGVjayIsImxvZ2luX2Zvcm1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImxvZ2luX2Zvcm1fZ2V0UHJvdG90eXBlT2YiLCJsb2dpbl9mb3JtX2luaGVyaXRzIiwicHdkIiwibG9naW5fZm9ybV90ZW1wbGF0ZU9iamVjdCIsImxvZ2luX2Zvcm1fdGVtcGxhdGVPYmplY3QyIiwiTG9naW5NYWluIiwiTG9naW5fY2xhc3NDYWxsQ2hlY2siLCJMb2dpbl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiTG9naW5fZ2V0UHJvdG90eXBlT2YiLCJMb2dpbl90ZW1wbGF0ZU9iamVjdCIsIkxvZ2luX3RlbXBsYXRlT2JqZWN0MiIsImxvYWRpbmdET00iLCJyb3V0ZXIiLCJpc1JvdXRlIiwib3RoZXJ3aXNlIiwicHVzaFVybCIsInBhdGgiLCJwcmV2ZW50RGVmYXVsdCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiaXNDb250aW51ZSIsIl9vbkxvYWQiLCJyZXBsYWNlU3RhdGUiLCJjYWxsYmFjayIsImxvYWRpbmciLCJlbXB0eURPTSIsImFkZCIsInBhZ2VOYW1lIiwicGFnZUVsZW1lbnQiLCJpbml0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdB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QU1MLFFBQVFDLFVBQVUsR0FBSSxLQUFNSCx1Q0FNcENTLEdBQ2R6WCxPQUFPZ00saUJBQVAsT0FBZ0MsV0FDL0J5TCwyQ0FLRCxJQUFNeEMsRUFBT2xULFNBQVN3UixjQUFULFFBQ1BtRSxFQUFVM1YsU0FBU3FHLGNBQVQsT0FHaEIxRyxLQUFLaVcsV0FDTEQsRUFBUXBDLFVBQVVzQyxJQUFsQixXQUNBLElBQUssSUFBSWxhLEVBQUUsRUFBR0EsRUFKRCxFQUlXQSxJQUN2QmdhLEVBQVE3TixZQUFZOUgsU0FBU3FHLGNBQVQsU0FFckI2TSxFQUFLcEwsWUFBWTZOLHNDQUdBRyxFQUFVYixHQUMzQnRWLEtBQUtpVyxXQUNMLElBQU1HLEVBQWMvVixTQUFTcUcsY0FBY3lQLEdBQzNDOVYsU0FBU3dSLGNBQVQsUUFBK0IxSixZQUFZaU8sR0FDM0NaLFFBQVFDLFVBQVUsR0FBSVUsRUFBVWIsc0NBSWhDalYsU0FBU3dSLGNBQVQsUUFBK0JsTCxVQUEvQix1Q0FJQXRHLFNBQVN3UixjQUFULFFBQStCbEwsVUFBL0IsMERBSUZxSyxHQUFLcUYiLCJmaWxlIjoibWFpbi1idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcblxuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwPG9iamVjdCwgdHJ1ZT4oKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuZXhwb3J0IHR5cGUgRGlyZWN0aXZlRmFjdG9yeSA9ICguLi5hcmdzOiBhbnlbXSkgPT4gb2JqZWN0O1xuXG5leHBvcnQgdHlwZSBEaXJlY3RpdmVGbiA9IChwYXJ0OiBQYXJ0KSA9PiB2b2lkO1xuXG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gPEYgZXh0ZW5kcyBEaXJlY3RpdmVGYWN0b3J5PihmOiBGKTogRiA9PlxuICAgICgoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICBjb25zdCBkID0gZiguLi5hcmdzKTtcbiAgICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSkgYXMgRjtcblxuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gKG86IHVua25vd24pOiBvIGlzIERpcmVjdGl2ZUZuID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW50ZXJmYWNlIE1heWJlUG9seWZpbGxlZENlIGV4dGVuZHMgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcbiAgcmVhZG9ubHkgcG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaz86IG9iamVjdDtcbn1cblxuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICAod2luZG93LmN1c3RvbUVsZW1lbnRzIGFzIE1heWJlUG9seWZpbGxlZENlKS5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVwYXJlbnRzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksXG4gKiBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmUgYGJlZm9yZWAuIElmXG4gKiBgYmVmb3JlYCBpcyBudWxsLCBpdCBhcHBlbmRzIHRoZSBub2RlcyB0byB0aGUgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9XG4gICAgKGNvbnRhaW5lcjogTm9kZSxcbiAgICAgc3RhcnQ6IE5vZGV8bnVsbCxcbiAgICAgZW5kOiBOb2RlfG51bGwgPSBudWxsLFxuICAgICBiZWZvcmU6IE5vZGV8bnVsbCA9IG51bGwpOiB2b2lkID0+IHtcbiAgICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydCEubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQhLCBiZWZvcmUpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgICB9XG4gICAgfTtcblxuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPVxuICAgIChjb250YWluZXI6IE5vZGUsIHN0YXJ0OiBOb2RlfG51bGwsIGVuZDogTm9kZXxudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0IS5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0ISk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG4vKipcbiAqIFRoZSBQYXJ0IGludGVyZmFjZSByZXByZXNlbnRzIGEgZHluYW1pYyBwYXJ0IG9mIGEgdGVtcGxhdGUgaW5zdGFuY2UgcmVuZGVyZWRcbiAqIGJ5IGxpdC1odG1sLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnQge1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBwYXJ0IHZhbHVlLCBidXQgZG9lcyBub3Qgd3JpdGUgaXQgdG8gdGhlIERPTS5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgY29tbWl0dGVkLlxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDb21taXRzIHRoZSBjdXJyZW50IHBhcnQgdmFsdWUsIGNhdXNpbmcgaXQgdG8gYWN0dWFsbHkgYmUgd3JpdHRlbiB0byB0aGVcbiAgICogRE9NLlxuICAgKlxuICAgKiBEaXJlY3RpdmVzIGFyZSBydW4gYXQgdGhlIHN0YXJ0IG9mIGBjb21taXRgLCBzbyB0aGF0IGlmIHRoZXkgY2FsbFxuICAgKiBgcGFydC5zZXRWYWx1ZSguLi4pYCBzeW5jaHJvbm91c2x5IHRoYXQgdmFsdWUgd2lsbCBiZSB1c2VkIGluIHRoZSBjdXJyZW50XG4gICAqIGNvbW1pdCwgYW5kIHRoZXJlJ3Mgbm8gbmVlZCB0byBjYWxsIGBwYXJ0LmNvbW1pdCgpYCB3aXRoaW4gdGhlIGRpcmVjdGl2ZS5cbiAgICogSWYgZGlyZWN0aXZlcyBzZXQgYSBwYXJ0IHZhbHVlIGFzeW5jaHJvbm91c2x5LCB0aGVuIHRoZXkgbXVzdCBjYWxsXG4gICAqIGBwYXJ0LmNvbW1pdCgpYCBtYW51YWxseS5cbiAgICovXG4gIGNvbW1pdCgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcblxuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5cbmV4cG9ydCBjb25zdCBtYXJrZXJSZWdleCA9IG5ldyBSZWdFeHAoYCR7bWFya2VyfXwke25vZGVNYXJrZXJ9YCk7XG5cbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8qKlxuICogQW4gdXBkYXRlYWJsZSBUZW1wbGF0ZSB0aGF0IHRyYWNrcyB0aGUgbG9jYXRpb24gb2YgZHluYW1pYyBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcbiAgcmVhZG9ubHkgcGFydHM6IFRlbXBsYXRlUGFydFtdID0gW107XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCwgZWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBzdGFjazogTm9kZVtdID0gW107XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZWxlbWVudC5jb250ZW50LFxuICAgICAgICAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZhbHNlKTtcbiAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgLy8gdW5uZWNlc3Nhcnkgbm9kZXMsIGJ1dCB3ZSBuZXZlciB3YW50IHRvIGFzc29jaWF0ZSB0d28gZGlmZmVyZW50IHBhcnRzXG4gICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBjb25zdCB7c3RyaW5ncywgdmFsdWVzOiB7bGVuZ3RofX0gPSByZXN1bHQ7XG4gICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpIGFzIEVsZW1lbnQgfCBDb21tZW50IHwgVGV4dCB8IG51bGw7XG4gICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gKG5vZGUgYXMgRWxlbWVudCkuYXR0cmlidXRlcztcbiAgICAgICAgICBjb25zdCB7bGVuZ3RofSA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZXR1cm5lZCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KSFbMl07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9XG4gICAgICAgICAgICAgICAgbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9XG4gICAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpITtcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljc30pO1xuICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgVGV4dCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUhO1xuICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0OiBOb2RlO1xuICAgICAgICAgICAgbGV0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKHMgPT09ICcnKSB7XG4gICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXS5zbGljZSgwLCAtYm91bmRBdHRyaWJ1dGVTdWZmaXgubGVuZ3RoKSArIG1hdGNoWzNdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHt0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4fSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiB0cnVzdCBpdCB3aWxsIHN0aWNrIGFyb3VuZCBhZnRlciBjbG9uaW5nLlxuICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKG5vZGUgYXMgVGV4dCkuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gV2UgaGF2ZSBhIHBhcnQgZm9yIGVhY2ggbWF0Y2ggZm91bmRcbiAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgaWYgKChub2RlIGFzIENvbW1lbnQpLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSE7XG4gICAgICAgICAgLy8gQWRkIGEgbmV3IG1hcmtlciBub2RlIHRvIGJlIHRoZSBzdGFydE5vZGUgb2YgdGhlIFBhcnQgaWYgYW55IG9mXG4gICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgLy8gICogVGhlIHByZXZpb3VzU2libGluZyBpcyBhbHJlYWR5IHRoZSBzdGFydCBvZiBhIHByZXZpb3VzIHBhcnRcbiAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdFBhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ25vZGUnLCBpbmRleH0pO1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgQ29tbWVudCkuZGF0YSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgIHdoaWxlICgoaSA9IChub2RlIGFzIENvbW1lbnQpLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdub2RlJywgaW5kZXg6IC0xfSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGV4dCBiaW5kaW5nIG5vZGVzIGFmdGVyIHRoZSB3YWxrIHRvIG5vdCBkaXN0dXJiIHRoZSBUcmVlV2Fsa2VyXG4gICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgIG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGVuZHNXaXRoID0gKHN0cjogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuXG4vKipcbiAqIEEgcGxhY2Vob2xkZXIgZm9yIGEgZHluYW1pYyBleHByZXNzaW9uIGluIGFuIEhUTUwgdGVtcGxhdGUuXG4gKlxuICogVGhlcmUgYXJlIHR3byBidWlsdC1pbiBwYXJ0IHR5cGVzOiBBdHRyaWJ1dGVQYXJ0IGFuZCBOb2RlUGFydC4gTm9kZVBhcnRzXG4gKiBhbHdheXMgcmVwcmVzZW50IGEgc2luZ2xlIGR5bmFtaWMgZXhwcmVzc2lvbiwgd2hpbGUgQXR0cmlidXRlUGFydHMgbWF5XG4gKiByZXByZXNlbnQgYXMgbWFueSBleHByZXNzaW9ucyBhcmUgY29udGFpbmVkIGluIHRoZSBhdHRyaWJ1dGUuXG4gKlxuICogQSBUZW1wbGF0ZSdzIHBhcnRzIGFyZSBtdXRhYmxlLCBzbyBwYXJ0cyBjYW4gYmUgcmVwbGFjZWQgb3IgbW9kaWZpZWRcbiAqIChwb3NzaWJseSB0byBpbXBsZW1lbnQgZGlmZmVyZW50IHRlbXBsYXRlIHNlbWFudGljcykuIFRoZSBjb250cmFjdCBpcyB0aGF0XG4gKiBwYXJ0cyBjYW4gb25seSBiZSByZXBsYWNlZCwgbm90IHJlbW92ZWQsIGFkZGVkIG9yIHJlb3JkZXJlZCwgYW5kIHBhcnRzIG11c3RcbiAqIGFsd2F5cyBjb25zdW1lIHRoZSBjb3JyZWN0IG51bWJlciBvZiB2YWx1ZXMgaW4gdGhlaXIgYHVwZGF0ZSgpYCBtZXRob2QuXG4gKlxuICogVE9ETyhqdXN0aW5mYWduYW5pKTogVGhhdCByZXF1aXJlbWVudCBpcyBhIGxpdHRsZSBmcmFnaWxlLiBBXG4gKiBUZW1wbGF0ZUluc3RhbmNlIGNvdWxkIGluc3RlYWQgYmUgbW9yZSBjYXJlZnVsIGFib3V0IHdoaWNoIHZhbHVlcyBpdCBnaXZlc1xuICogdG8gUGFydC51cGRhdGUoKS5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiAnbm9kZScsXG4gIGluZGV4OiBudW1iZXJcbn18e3JlYWRvbmx5IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleDogbnVtYmVyLCByZWFkb25seSBuYW1lOiBzdHJpbmcsIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPn07XG5cbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUGFydEFjdGl2ZSA9IChwYXJ0OiBUZW1wbGF0ZVBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuXG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXG4vKipcbiAqIFRoaXMgcmVnZXggZXh0cmFjdHMgdGhlIGF0dHJpYnV0ZSBuYW1lIHByZWNlZGluZyBhbiBhdHRyaWJ1dGUtcG9zaXRpb25cbiAqIGV4cHJlc3Npb24uIEl0IGRvZXMgdGhpcyBieSBtYXRjaGluZyB0aGUgc3ludGF4IGFsbG93ZWQgZm9yIGF0dHJpYnV0ZXNcbiAqIGFnYWluc3QgdGhlIHN0cmluZyBsaXRlcmFsIGRpcmVjdGx5IHByZWNlZGluZyB0aGUgZXhwcmVzc2lvbiwgYXNzdW1pbmcgdGhhdFxuICogdGhlIGV4cHJlc3Npb24gaXMgaW4gYW4gYXR0cmlidXRlLXZhbHVlIHBvc2l0aW9uLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxceDA5XFx4MGFcXHgwY1xceDBkXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3NwYWNlLWNoYXJhY3RlcnNcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCB3aGljaCBpbmNsdWRlcyBldmVyeVxuICogc3BhY2UgY2hhcmFjdGVyIGV4Y2VwdCBcIiBcIi5cbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSBjb250cm9sIGNoYXJhY3Rlciwgc3BhY2UgY2hhcmFjdGVyLCAoJyksXG4gKiAgICAoXCIpLCBcIj5cIiwgXCI9XCIsIG9yIFwiL1wiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5leHBvcnQgY29uc3QgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCA9XG4gICAgLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNDRVBvbHlmaWxsfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge1BhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGUsIFRlbXBsYXRlUGFydH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IF9fcGFydHM6IEFycmF5PFBhcnR8dW5kZWZpbmVkPiA9IFtdO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zO1xuICByZWFkb25seSB0ZW1wbGF0ZTogVGVtcGxhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUsIHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3IsXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICB1cGRhdGUodmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFydC5zZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2Nsb25lKCk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIC8vIFRoZXJlIGFyZSBhIG51bWJlciBvZiBzdGVwcyBpbiB0aGUgbGlmZWN5Y2xlIG9mIGEgdGVtcGxhdGUgaW5zdGFuY2Unc1xuICAgIC8vIERPTSBmcmFnbWVudDpcbiAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgLy8gIDIuIEFkb3B0IC0gYWRvcHQgaW50byB0aGUgbWFpbiBkb2N1bWVudFxuICAgIC8vICAzLiBQcm9jZXNzIC0gZmluZCBwYXJ0IG1hcmtlcnMgYW5kIGNyZWF0ZSBwYXJ0c1xuICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAvLyAgNS4gVXBkYXRlIC0gc2V0IG5vZGUsIGF0dHJpYnV0ZSwgcHJvcGVydHksIGV0Yy4sIHZhbHVlc1xuICAgIC8vICA2LiBDb25uZWN0IC0gY29ubmVjdCB0byB0aGUgZG9jdW1lbnQuIE9wdGlvbmFsIGFuZCBvdXRzaWRlIG9mIHRoaXNcbiAgICAvLyAgICAgbWV0aG9kLlxuICAgIC8vXG4gICAgLy8gV2UgaGF2ZSBhIGZldyBjb25zdHJhaW50cyBvbiB0aGUgb3JkZXJpbmcgb2YgdGhlc2Ugc3RlcHM6XG4gICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgLy8gICAgdGhyb3VnaCBhbnkgcHJvcGVydHkgc2V0dGVycy5cbiAgICAvLyAgKiBXZSB3b3VsZCBsaWtlIHRvIHByb2Nlc3MgYmVmb3JlIHVwZ3JhZGluZyBzbyB0aGF0IHdlJ3JlIHN1cmUgdGhhdCB0aGVcbiAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgIC8vICAqIFdlIHdhbnQgY3VzdG9tIGVsZW1lbnRzIHRvIHVwZ3JhZGUgZXZlbiBpbiBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLlxuICAgIC8vXG4gICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgIC8vIHByZWZlciB0aGUgb3JkZXI6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLCBDb25uZWN0XG4gICAgLy9cbiAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgLy8gdXBncmFkZSBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLiBTbyB3ZSBpbnN0ZWFkIHNhY3JpZmljZSB0aGVcbiAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgIC8vIHdoZW4gY28tZXhpc3Rpbmcgd2l0aCBDRXYwIGVsZW1lbnRzIGxpa2UgUG9seW1lciAxLCBhbmQgd2l0aCBwb2x5ZmlsbHNcbiAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgLy8gaW4gdGhlIGxpZ2h0IERPTS5cbiAgICAvL1xuICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgLy8gVXBkYXRlLCBDb25uZWN0LiBkb2N1bWVudC5pbXBvcnROb2RlKCkgcGVyZm9ybXMgQ2xvbmUsIEFkb3B0LCBhbmQgVXBncmFkZVxuICAgIC8vIGluIG9uZSBzdGVwLlxuICAgIC8vXG4gICAgLy8gVGhlIEN1c3RvbSBFbGVtZW50cyB2MSBwb2x5ZmlsbCBzdXBwb3J0cyB1cGdyYWRlKCksIHNvIHRoZSBvcmRlciB3aGVuXG4gICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgLy8gQ29ubmVjdC5cblxuICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIGFzIERvY3VtZW50RnJhZ21lbnQgOlxuICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcblxuICAgIGNvbnN0IHN0YWNrOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBwYXJ0OiBUZW1wbGF0ZVBhcnQ7XG4gICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBub2RlcyBhbmQgcGFydHMgb2YgYSB0ZW1wbGF0ZVxuICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICB0aGlzLl9fcGFydHMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGlmIChub2RlIS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSEpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgcGFydC5pbnNlcnRBZnRlck5vZGUobm9kZSEucHJldmlvdXNTaWJsaW5nISk7XG4gICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2goLi4udGhpcy5wcm9jZXNzb3IuaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMoXG4gICAgICAgICAgICBub2RlIGFzIEVsZW1lbnQsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7cmVwYXJlbnROb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgcmVhZG9ubHkgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gIHJlYWRvbmx5IHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPjtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPixcbiAgICAgIHR5cGU6IHN0cmluZywgcHJvY2Vzc29yOiBUZW1wbGF0ZVByb2Nlc3Nvcikge1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICovXG4gIGdldEhUTUwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9pc2l0aW9uLlxuICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWVkaW5nIHRoZVxuICAgICAgLy8gZXhwcmVzc2lvbi4gVGhpcyBjYW4gbWF0Y2ggXCJuYW1lPXZhbHVlXCIgbGlrZSBzdHJ1Y3R1cmVzIGluIHRleHQsXG4gICAgICAvLyBjb21tZW50cywgYW5kIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHRoZXJlIGNhbiBiZSBmYWxzZS1wb3NpdGl2ZXMuXG4gICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVNYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgIC8vIGJlbG93LlxuICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IG1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICBtYXJrZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgZ2V0SFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZCE7XG4gICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNEaXJlY3RpdmV9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7cmVtb3ZlTm9kZXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7bm9DaGFuZ2UsIG5vdGhpbmcsIFBhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZUluc3RhbmNlfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7Y3JlYXRlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZW9mLW9wZXJhdG9yXG5leHBvcnQgdHlwZSBQcmltaXRpdmUgPSBudWxsfHVuZGVmaW5lZHxib29sZWFufG51bWJlcnxzdHJpbmd8U3ltYm9sfGJpZ2ludDtcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFByaW1pdGl2ZSA9PiB7XG4gIHJldHVybiAoXG4gICAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICEhKHZhbHVlICYmICh2YWx1ZSBhcyBhbnkpW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgcmVhZG9ubHkgcGFydHM6IFJlYWRvbmx5QXJyYXk8QXR0cmlidXRlUGFydD47XG4gIGRpcnR5ID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAodGhpcy5wYXJ0cyBhcyBBdHRyaWJ1dGVQYXJ0W10pW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgKi9cbiAgcHJvdGVjdGVkIF9jcmVhdGVQYXJ0KCk6IEF0dHJpYnV0ZVBhcnQge1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0VmFsdWUoKTogdW5rbm93biB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIGxldCB0ZXh0ID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgY29uc3QgcGFydCA9IHRoaXMucGFydHNbaV07XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpIGFzIHN0cmluZyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBjb21taXR0ZXI6IEF0dHJpYnV0ZUNvbW1pdHRlcjtcbiAgdmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoY29tbWl0dGVyOiBBdHRyaWJ1dGVDb21taXR0ZXIpIHtcbiAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQgaW1wbGVtZW50cyBQYXJ0IHtcbiAgcmVhZG9ubHkgb3B0aW9uczogUmVuZGVyT3B0aW9ucztcbiAgc3RhcnROb2RlITogTm9kZTtcbiAgZW5kTm9kZSE6IE5vZGU7XG4gIHZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9fcGVuZGluZ1ZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50byhjb250YWluZXI6IE5vZGUpIHtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgbm9kZSAoYmV0d2VlbiBgcmVmYCBhbmQgYHJlZmAncyBuZXh0XG4gICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBpbnNlcnRBZnRlck5vZGUocmVmOiBOb2RlKSB7XG4gICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nITtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50b1BhcnQocGFydDogTm9kZVBhcnQpIHtcbiAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBwYXJ0LlxuICAgKlxuICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICovXG4gIGluc2VydEFmdGVyUGFydChyZWY6IE5vZGVQYXJ0KSB7XG4gICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5lbmROb2RlO1xuICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9faW5zZXJ0KG5vZGU6IE5vZGUpIHtcbiAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gIH1cblxuICBwcml2YXRlIF9fY29tbWl0Tm9kZSh2YWx1ZTogTm9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdFRleHQodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmchO1xuICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIHRleHQgbm9kZSBiZXR3ZWVuIHRoZSBtYXJrZXJzLCB3ZSBjYW4ganVzdFxuICAgICAgLy8gc2V0IGl0cyB2YWx1ZSwgcmF0aGVyIHRoYW4gcmVwbGFjaW5nIGl0LlxuICAgICAgLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogQ2FuIHdlIGp1c3QgY2hlY2sgaWYgdGhpcy52YWx1ZSBpcyBwcmltaXRpdmU/XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZTogVGVtcGxhdGVSZXN1bHQpOiB2b2lkIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgIGNvbnN0IGluc3RhbmNlID1cbiAgICAgICAgICBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRJdGVyYWJsZSh2YWx1ZTogSXRlcmFibGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG5cbiAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAvLyBpdGVyYWJsZSBhbmQgX3ZhbHVlIHdpbGwgY29udGFpbiB0aGUgTm9kZVBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZSA9IFtdO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlIGFzIE5vZGVQYXJ0W107XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IGl0ZW1QYXJ0OiBOb2RlUGFydHx1bmRlZmluZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuXG4gICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICBpZiAoaXRlbVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtUGFydC5pbnNlcnRBZnRlclBhcnQoaXRlbVBhcnRzW3BhcnRJbmRleCAtIDFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcihzdGFydE5vZGU6IE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgIHJlbW92ZU5vZGVzKFxuICAgICAgICB0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlISwgc3RhcnROb2RlLm5leHRTaWJsaW5nISwgdGhpcy5lbmROb2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYSBib29sZWFuIGF0dHJpYnV0ZSwgcm91Z2hseSBhcyBkZWZpbmVkIGluIHRoZSBIVE1MXG4gKiBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyB0cnV0aHksIHRoZW4gdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IHdpdGggYSB2YWx1ZSBvZlxuICogJycuIElmIHRoZSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICB2YWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfX3BlbmRpbmdWYWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBjb21taXQoKSB7XG4gICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gIHJlYWRvbmx5IHNpbmdsZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHRoaXMuc2luZ2xlID1cbiAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlUGFydCgpOiBQcm9wZXJ0eVBhcnQge1xuICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy5zaW5nbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnRzWzBdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICh0aGlzLmVsZW1lbnQgYXMgYW55KVt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge31cblxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhyaWRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcblxudHJ5IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xufSBjYXRjaCAoX2UpIHtcbn1cblxuXG50eXBlIEV2ZW50SGFuZGxlcldpdGhPcHRpb25zID1cbiAgICBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0JlBhcnRpYWw8QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+O1xuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBldmVudE5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgZXZlbnRDb250ZXh0PzogRXZlbnRUYXJnZXQ7XG4gIHZhbHVlOiB1bmRlZmluZWR8RXZlbnRIYW5kbGVyV2l0aE9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX19vcHRpb25zPzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM7XG4gIHByaXZhdGUgX19wZW5kaW5nVmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBfX2JvdW5kSGFuZGxlRXZlbnQ6IChldmVudDogRXZlbnQpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50Q29udGV4dD86IEV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2UgYXMgRXZlbnRIYW5kbGVyV2l0aE9wdGlvbnM7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciA9PSBudWxsIHx8XG4gICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT0gb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID1cbiAgICAgICAgbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG5cbiAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX19vcHRpb25zID0gZ2V0T3B0aW9ucyhuZXdMaXN0ZW5lcik7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICB0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZSBhcyBFdmVudEhhbmRsZXJXaXRoT3B0aW9ucztcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KGV2ZW50OiBFdmVudCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy52YWx1ZSBhcyBFdmVudExpc3RlbmVyT2JqZWN0KS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgfVxuICB9XG59XG5cbi8vIFdlIGNvcHkgb3B0aW9ucyBiZWNhdXNlIG9mIHRoZSBpbmNvbnNpc3RlbnQgYmVoYXZpb3Igb2YgYnJvd3NlcnMgd2hlbiByZWFkaW5nXG4vLyB0aGUgdGhpcmQgYXJndW1lbnQgb2YgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuIElFMTEgZG9lc24ndCBzdXBwb3J0IG9wdGlvbnNcbi8vIGF0IGFsbC4gQ2hyb21lIDQxIG9ubHkgcmVhZHMgYGNhcHR1cmVgIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBvYmplY3QuXG5jb25zdCBnZXRPcHRpb25zID0gKG86IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfHVuZGVmaW5lZCkgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICAge2NhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2V9IDpcbiAgICAgICAgIG8uY2FwdHVyZSBhcyBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7QXR0cmlidXRlQ29tbWl0dGVyLCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXJ9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHtSZW5kZXJPcHRpb25zfSBmcm9tICcuL3JlbmRlci1vcHRpb25zLmpzJztcbmltcG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIFBhcnRzIHdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgaW1wbGVtZW50cyBUZW1wbGF0ZVByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgcGFydHMgZm9yIGFuIGF0dHJpYnV0ZS1wb3NpdGlvbiBiaW5kaW5nLCBnaXZlbiB0aGUgZXZlbnQsIGF0dHJpYnV0ZVxuICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiaW5kaW5nXG4gICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHN0cmluZ3MgVGhlIHN0cmluZyBsaXRlcmFscy4gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28gc3RyaW5ncyxcbiAgICogICBldmVudCBmb3IgZnVsbHktY29udHJvbGxlZCBiaW5kaW5ncyB3aXRoIGEgc2luZ2xlIGV4cHJlc3Npb24uXG4gICAqL1xuICBoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogc3RyaW5nW10sXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKTogUmVhZG9ubHlBcnJheTxQYXJ0PiB7XG4gICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICBpZiAocHJlZml4ID09PSAnLicpIHtcbiAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgIH1cbiAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgQXR0cmlidXRlQ29tbWl0dGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0cyBmb3IgYSB0ZXh0LXBvc2l0aW9uIGJpbmRpbmcuXG4gICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICovXG4gIGhhbmRsZVRleHRFeHByZXNzaW9uKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7bWFya2VyLCBUZW1wbGF0ZX0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0eXBlIHRoYXQgY3JlYXRlcyBhIFRlbXBsYXRlIGZyb20gYSBUZW1wbGF0ZVJlc3VsdC5cbiAqXG4gKiBUaGlzIGlzIGEgaG9vayBpbnRvIHRoZSB0ZW1wbGF0ZS1jcmVhdGlvbiBwcm9jZXNzIGZvciByZW5kZXJpbmcgdGhhdFxuICogcmVxdWlyZXMgc29tZSBtb2RpZmljYXRpb24gb2YgdGVtcGxhdGVzIGJlZm9yZSB0aGV5J3JlIHVzZWQsIGxpa2UgU2hhZHlDU1MsXG4gKiB3aGljaCBtdXN0IGFkZCBjbGFzc2VzIHRvIGVsZW1lbnRzIGFuZCByZW1vdmUgc3R5bGVzLlxuICpcbiAqIFRlbXBsYXRlcyBzaG91bGQgYmUgY2FjaGVkIGFzIGFnZ3Jlc3NpdmVseSBhcyBwb3NzaWJsZSwgc28gdGhhdCBtYW55XG4gKiBUZW1wbGF0ZVJlc3VsdHMgcHJvZHVjZWQgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIG9ubHkgZG8gdGhlIHdvcmsgb2ZcbiAqIGNyZWF0aW5nIHRoZSBUZW1wbGF0ZSB0aGUgZmlyc3QgdGltZS5cbiAqXG4gKiBUZW1wbGF0ZXMgYXJlIHVzdWFsbHkgY2FjaGVkIGJ5IFRlbXBsYXRlUmVzdWx0LnN0cmluZ3MgYW5kXG4gKiBUZW1wbGF0ZVJlc3VsdC50eXBlLCBidXQgbWF5IGJlIGNhY2hlZCBieSBvdGhlciBrZXlzIGlmIHRoaXMgZnVuY3Rpb25cbiAqIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBOb3RlIHRoYXQgY3VycmVudGx5IFRlbXBsYXRlRmFjdG9yaWVzIG11c3Qgbm90IGFkZCwgcmVtb3ZlLCBvciByZW9yZGVyXG4gKiBleHByZXNzaW9ucywgYmVjYXVzZSB0aGVyZSBpcyBubyB3YXkgdG8gZGVzY3JpYmUgc3VjaCBhIG1vZGlmaWNhdGlvblxuICogdG8gcmVuZGVyKCkgc28gdGhhdCB2YWx1ZXMgYXJlIGludGVycG9sYXRlZCB0byB0aGUgY29ycmVjdCBwbGFjZSBpbiB0aGVcbiAqIHRlbXBsYXRlIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVGYWN0b3J5ID0gKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IFRlbXBsYXRlO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkge1xuICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChyZXN1bHQudHlwZSk7XG4gIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCksXG4gICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgIH07XG4gICAgdGVtcGxhdGVDYWNoZXMuc2V0KHJlc3VsdC50eXBlLCB0ZW1wbGF0ZUNhY2hlKTtcbiAgfVxuXG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAvLyBUaGlzIGtleSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgdGVtcGxhdGVzIHdpdGggaWRlbnRpY2FsIGNvbnRlbnRcbiAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuXG4gIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgfVxuXG4gIC8vIENhY2hlIGFsbCBmdXR1cmUgcXVlcmllcyBmb3IgdGhpcyBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG4vKipcbiAqIFRoZSBmaXJzdCBhcmd1bWVudCB0byBKUyB0ZW1wbGF0ZSB0YWdzIHJldGFpbiBpZGVudGl0eSBhY3Jvc3MgbXVsdGlwbGVcbiAqIGNhbGxzIHRvIGEgdGFnIGZvciB0aGUgc2FtZSBsaXRlcmFsLCBzbyB3ZSBjYW4gY2FjaGUgd29yayBkb25lIHBlciBsaXRlcmFsXG4gKiBpbiBhIE1hcC5cbiAqXG4gKiBTYWZhcmkgY3VycmVudGx5IGhhcyBhIGJ1ZyB3aGljaCBvY2Nhc2lvbmFsbHkgYnJlYWtzIHRoaXMgYmVoYXZpb3VyLCBzbyB3ZVxuICogbmVlZCB0byBjYWNoZSB0aGUgVGVtcGxhdGUgYXQgdHdvIGxldmVscy4gV2UgZmlyc3QgY2FjaGUgdGhlXG4gKiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgYW5kIGlmIHRoYXQgZmFpbHMsIHdlIGNhY2hlIGEga2V5IGNvbnN0cnVjdGVkIGJ5XG4gKiBqb2luaW5nIHRoZSBzdHJpbmdzIGFycmF5LlxuICovXG5leHBvcnQgdHlwZSB0ZW1wbGF0ZUNhY2hlID0ge1xuICByZWFkb25seSBzdHJpbmdzQXJyYXk6IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPjsgLy9cbiAgcmVhZG9ubHkga2V5U3RyaW5nOiBNYXA8c3RyaW5nLCBUZW1wbGF0ZT47XG59O1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwPHN0cmluZywgdGVtcGxhdGVDYWNoZT4oKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtyZW1vdmVOb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtOb2RlUGFydH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUZhY3Rvcnl9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwPE5vZGUsIE5vZGVQYXJ0PigpO1xuXG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgYSBUZW1wbGF0ZVJlc3VsdCBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZVxuICogICAgIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudCxcbiAgICAgb3B0aW9ucz86IFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4pID0+IHtcbiAgICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0ID0gbmV3IE5vZGVQYXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIHBhcnQuc2V0VmFsdWUocmVzdWx0KTtcbiAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICogQHByZWZlcnJlZFxuICovXG5cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7ZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuZXhwb3J0IHtEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHtkaXJlY3RpdmUsIERpcmVjdGl2ZUZuLCBpc0RpcmVjdGl2ZX0gZnJvbSAnLi9saWIvZGlyZWN0aXZlLmpzJztcbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IHJlbW92ZSBsaW5lIHdoZW4gd2UgZ2V0IE5vZGVQYXJ0IG1vdmluZyBtZXRob2RzXG5leHBvcnQge3JlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHtub0NoYW5nZSwgbm90aGluZywgUGFydH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQge0F0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0fSBmcm9tICcuL2xpYi9wYXJ0cy5qcyc7XG5leHBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vbGliL3JlbmRlci1vcHRpb25zLmpzJztcbmV4cG9ydCB7cGFydHMsIHJlbmRlcn0gZnJvbSAnLi9saWIvcmVuZGVyLmpzJztcbmV4cG9ydCB7dGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeX0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQge1RlbXBsYXRlSW5zdGFuY2V9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vbGliL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7Y3JlYXRlTWFya2VyLCBpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGV9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBsaXRIdG1sVmVyc2lvbnM6IHN0cmluZ1tdO1xuICB9XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMC4wJyk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSkgPT5cbiAgICBuZXcgVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnaHRtbCcsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiB1bmtub3duW10pID0+XG4gICAgbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4iLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBiYXNlID0+IGNsYXNzIGV4dGVuZHMgYmFzZSB7XHJcblx0cmVuZGVyKCkge31cclxuXHJcblx0YXN5bmMgaW52YWxpZGF0ZShpbnN0YW50KSB7XHJcblx0XHRpZiAoIXRoaXMubmVlZHNSZW5kZXIpIHtcclxuXHRcdFx0aWYgKCFpbnN0YW50KSB7XHJcblx0XHRcdFx0dGhpcy5uZWVkc1JlbmRlciA9IHRydWVcclxuXHRcdFx0XHRhd2FpdCAwXHJcblx0XHRcdFx0dGhpcy5uZWVkc1JlbmRlciA9IGZhbHNlXHJcblx0XHRcdH1cclxuXHRcdFx0cmVuZGVyKHRoaXMucmVuZGVyKCksIHRoaXMuc2hhZG93Um9vdClcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcblxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlJDEoaW5pdGlhbFN0YXRlLCBtaWRkbGV3YXJlKSB7XHJcbiAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB2b2lkIDApIHsgaW5pdGlhbFN0YXRlID0ge307IH1cclxuICAgIGlmIChtaWRkbGV3YXJlID09PSB2b2lkIDApIHsgbWlkZGxld2FyZSA9IG51bGw7IH1cclxuICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZSB8fCB7fTtcclxuICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcclxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHN0YXRlKTsgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG1pZGRsZXdhcmU6IG1pZGRsZXdhcmUsXHJcbiAgICAgICAgc2V0U3RhdGU6IGZ1bmN0aW9uICh1cGRhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSBfX2Fzc2lnbih7fSwgc3RhdGUsICh0eXBlb2YgdXBkYXRlID09PSBcImZ1bmN0aW9uXCIgPyB1cGRhdGUoc3RhdGUpIDogdXBkYXRlKSk7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGYpO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShsaXN0ZW5lcnMuaW5kZXhPZihmKSwgMSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRTdGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcclxuICAgICAgICAgICAgZGlzcGF0Y2hMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVN0b3JlJDE7XHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0b3JlJDE7XHJcbiIsImltcG9ydCBjcmVhdGVTdG9yZSBmcm9tICcuL3JlZHV4LXplcm8uanMnXHJcblxyXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XHJcblx0aW5mbzogW10gLCBcclxuXHR0b2RvTGlzdDogW10sXHJcblx0bG9naW46IGZhbHNlLFxyXG59XHJcbmNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3RvcmVcclxuIiwiaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnXHJcbi8vIGltcG9ydCB7IHJlbmRlciB9IGZyb20gJ2xpdC1odG1sJ1xyXG5pbXBvcnQgTWFpbiBmcm9tICcuLi9tYWluLmpzJ1xyXG5cclxuZnVuY3Rpb24gYWN0aW9uQ3JlYXRvcihhY3Rpb24pIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRsZXQgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpXHJcblx0XHRzdGF0ZSA9IGFjdGlvbihzdGF0ZSwgLi4uYXJndW1lbnRzKVxyXG5cdFx0c3RvcmUuc2V0U3RhdGUoc3RhdGUpXHJcblx0fVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBUZXN0IGNvZGVcclxuXHJcbmV4cG9ydCBjb25zdCBjb3VudEFkZCA9IGFjdGlvbkNyZWF0b3Ioc3RhdGUgPT4ge1xyXG5cdHN0YXRlLmluZm8uY291bnQgPT09IHVuZGVmaW5lZFxyXG5cdFx0PyBzdGF0ZS5pbmZvLmNvdW50ID0gMFxyXG5cdFx0OiBzdGF0ZS5pbmZvLmNvdW50KytcclxuXHRyZXR1cm4gc3RhdGVcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCBnZXREYXRhID0gYWN0aW9uQ3JlYXRvcihzdGF0ZSA9PiB7XHJcblx0Y29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKVxyXG5cclxuXHRkYi5jb2xsZWN0aW9uKGBURVNUYCkuZ2V0KCkudGhlbihxdWVyeVNuYXBzaG90ID0+IHtcclxuXHRcdHF1ZXJ5U25hcHNob3QuZm9yRWFjaChkb2MgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmluZm8oZG9jLmlkLCBkb2MuZGF0YSgpKVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cdFxyXG5cdHJldHVybiBzdGF0ZVxyXG59KVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTG9naW5cclxuXHJcbmV4cG9ydCBjb25zdCBzaWdudXAgPSBhY3Rpb25DcmVhdG9yKChzdGF0ZSwgX2lkICxfcHdkKSA9PiB7XHJcblx0Y29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcclxuXHJcblx0aWYoIXhocikge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKGBYSFIg7Zi47LacIOu2iOqwgGApXHJcblx0fVxyXG5cclxuXHR4aHIub3BlbihgUE9TVGAsIGBodHRwczovL3VzLWNlbnRyYWwxLXRhZXVrLXByb2plY3QuY2xvdWRmdW5jdGlvbnMubmV0L2lzQWRtaW5gKVxyXG5cdHhoci5zZXRSZXF1ZXN0SGVhZGVyKGBDb250ZW50LXR5cGVgLCBgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkYClcclxuXHR4aHIuYWRkRXZlbnRMaXN0ZW5lcihgcmVhZHlzdGF0ZWNoYW5nZWAsICgpID0+IHtcclxuXHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PT0geGhyLkRPTkUpIHtcclxuXHRcdFx0aWYgKHhoci5zdGF0dXMgPT09IDIwMCB8fCB4aHIuc3RhdHVzID09PSAyMDEpIHtcclxuXHRcdFx0XHRmaXJlYmFzZS5hdXRoKCkuc2lnbkluQW5vbnltb3VzbHkoKS5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBlcnJvckNvZGUgPSBlcnJvci5jb2RlXHJcblx0XHRcdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0bW92ZU1haW5QYWdlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkucmVzdWx0KVxyXG5cdFx0XHRcdHN0YXRlLmxvZ2luID0gdHJ1ZVxyXG5cdFx0XHRcdHN0b3JlLnNldFN0YXRlKHN0YXRlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxuXHR4aHIuc2VuZChgaWQ9JHtfaWR9JnBhc3N3b3JkPSR7X3B3ZH1gKVxyXG5cclxuXHJcblx0cmV0dXJuIHN0YXRlXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBtb3ZlTWFpblBhZ2UoaXNMb2dpbiA9IGZhbHNlKSB7XHJcblx0aWYgKGlzTG9naW4pIHtcclxuXHRcdE1haW4ucmVuZGVyUGFnZShgYXBwLW1haW5gLCBgL2ApXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbW92ZVBhZ2UgPSBhY3Rpb25DcmVhdG9yKChzdGF0ZSwgcGFnZSkgPT4ge1xyXG5cdE1haW4ucmVuZGVyUGFnZShgJHtwYWdlfS1tYWluYCwgcGFnZSlcclxuXHRyZXR1cm4gc3RhdGVcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCBsb2dpbiA9IGFjdGlvbkNyZWF0b3Ioc3RhdGUgPT4ge1xyXG5cdGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQodXNlciA9PiB7XHJcblx0XHRpZiAodXNlcikge1xyXG5cdFx0XHRjb25zdCBpc0Fub255bW91cyA9IHVzZXIuaXNBbm9ueW1vdXNcclxuXHRcdFx0Y29uc3QgdWlkID0gdXNlci51aWRcclxuXHJcblx0XHRcdGNvbnNvbGUuaW5mbyhpc0Fub255bW91cywgdWlkKVxyXG5cdFx0XHRzdGF0ZS5sb2dpbiA9IHRydWVcclxuXHRcdFx0c3RvcmUuc2V0U3RhdGUoc3RhdGUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdGF0ZS5sb2dpbiA9IGZhbHNlXHJcblx0XHRcdHN0b3JlLnNldFN0YXRlKHN0YXRlKVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdHJldHVybiBzdGF0ZVxyXG59KVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUm91dGVyXHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVySHRtbCA9IGFjdGlvbkNyZWF0b3IoKHN0YXRlLCBodG1sKSA9PiB7XHJcblx0Y29uc3QgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgYXBwLW1haW5gKS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYG1haW5gKVxyXG5cclxuXHRhcHAuaW5uZXJIVE1MID0gaHRtbFxyXG5cclxuXHRyZXR1cm4gc3RhdGVcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCBnZXQgPSBhY3Rpb25DcmVhdG9yKChzdGF0ZSwgdXJsKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0Y29uc3QgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcclxuXHRyZXEub3BlbihgR0VUYCwgdXJsKVxyXG5cdHJlcS5zZW5kKClcclxuICBcclxuXHRyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHJlcS5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XHJcblx0XHRcdGlmIChyZXEuc3RhdHVzID09PSAyMDApIHtcclxuXHRcdFx0XHRyZXNvbHZlKHJlcS5yZXNwb25zZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZWplY3QocmVxLnN0YXR1c1RleHQpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRXhhbXBsZVxyXG5cclxuLy8gZXhwb3J0IGNvbnN0IHJvdXRlID0gYWN0aW9uQ3JlYXRvcigoc3RhdGUsIF9yb3V0ZSkgPT4ge1xyXG4vLyBcdHN0YXRlLnJvdXRlID0gX3JvdXRlXHJcblxyXG4vLyBcdHJldHVybiBzdGF0ZVxyXG4vLyB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IGFkZCA9IGFjdGlvbkNyZWF0b3IoKHN0YXRlLCB0b2RvKSA9PiB7XHJcblx0c3RhdGUudG9kb0xpc3QucHVzaCh7XHJcblx0XHR0aXRsZTogdG9kbyxcclxuXHRcdGNvbXBsZXRlZDogZmFsc2UsXHJcblx0XHRpZDogYGl0ZW0teHh4eHh4eHh4eHh4YC5yZXBsYWNlKC9beF0vZywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMFxyXG5cclxuXHRcdFx0cmV0dXJuIHIudG9TdHJpbmcoMTYpXHJcblx0XHR9KSxcclxuXHR9KVxyXG5cclxuXHRyZXR1cm4gc3RhdGVcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmUgPSBhY3Rpb25DcmVhdG9yKChzdGF0ZSwgaWQpID0+IHtcclxuXHRzdGF0ZS50b2RvTGlzdCA9IHN0YXRlLnRvZG9MaXN0LmZpbHRlcih0b2RvID0+IHRvZG8uaWQgIT09IGlkKVxyXG5cclxuXHRyZXR1cm4gc3RhdGVcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCB0b2dnbGUgPSBhY3Rpb25DcmVhdG9yKChzdGF0ZSwgaWQpID0+IHtcclxuXHRjb25zdCB0b2RvID0gc3RhdGUudG9kb0xpc3QuZmluZChfdG9kbyA9PiBfdG9kby5pZCA9PT0gaWQpXHJcblx0dG9kby5jb21wbGV0ZWQgPSAhdG9kby5jb21wbGV0ZWRcclxuXHJcblx0cmV0dXJuIHN0YXRlXHJcbn0pXHJcblxyXG5leHBvcnQgY29uc3QgcmVwbGFjZSA9IGFjdGlvbkNyZWF0b3IoKHN0YXRlLCBpZCwgdGl0bGUpID0+IHtcclxuXHRjb25zdCB0b2RvID0gc3RhdGUudG9kb0xpc3QuZmluZChfdG9kbyA9PiBfdG9kby5pZCA9PT0gaWQpXHJcblx0dG9kby50aXRsZSA9IHRpdGxlXHJcblxyXG5cdHJldHVybiBzdGF0ZVxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZUFsbCA9IGFjdGlvbkNyZWF0b3IoKHN0YXRlLCBjb21wbGV0ZWQpID0+IHtcclxuXHRzdGF0ZS50b2RvTGlzdC5mb3JFYWNoKF90b2RvID0+IHtcclxuXHRcdF90b2RvLmNvbXBsZXRlZCA9IGNvbXBsZXRlZFxyXG5cdH0pXHJcblxyXG5cdHJldHVybiBzdGF0ZVxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IGNsZWFyQ29tcGxldGVkID0gYWN0aW9uQ3JlYXRvcihzdGF0ZSA9PiB7XHJcblx0c3RhdGUudG9kb0xpc3QgPSBzdGF0ZS50b2RvTGlzdC5maWx0ZXIodG9kbyA9PiAhdG9kby5jb21wbGV0ZWQpXHJcblxyXG5cdHJldHVybiBzdGF0ZVxyXG59KVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0LWh0bWwnXHJcblxyXG5pbXBvcnQgTGl0UmVuZGVyIGZyb20gJy4uL2xpYnMvbGl0UmVuZGVyJ1xyXG5pbXBvcnQgeyBtb3ZlUGFnZSB9IGZyb20gJy4uL2xpYnMvYWN0aW9ucycgXHJcblxyXG5jbGFzcyBBcHBNYWluIGV4dGVuZHMgTGl0UmVuZGVyKEhUTUxFbGVtZW50KSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRzdXBlcigpXHJcbiAgICBcclxuXHRcdHRoaXMuX2hhbmRsZXJzID0ge31cclxuXHJcblx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IGBvcGVuYCB9KVxyXG5cdFx0dGhpcy5pbnZhbGlkYXRlKClcdFxyXG5cdH1cclxuICBcclxuXHRjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuXHRcdGNvbnN0IHJvb3QgPSB0aGlzLnNoYWRvd1Jvb3RcclxuXHRcdGNvbnN0IGhhbmRsZXJzID0gdGhpcy5faGFuZGxlcnNcclxuXHJcblx0XHRoYW5kbGVycy5vbkNsaWNrID0gdGhpcy5fb25DbGljay5iaW5kKHRoaXMpXHJcbiAgICBcclxuXHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVycy5vbkNsaWNrKVxyXG5cdH1cclxuXHJcblx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcblx0XHRjb25zdCByb290ID0gdGhpcy5zaGFkb3dSb290XHJcblxyXG5cdFx0cm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKGBjbGlja2AsIHRoaXMuX2hhbmRsZXJzLm9uQ2xpY2spXHJcblx0fSAgXHJcbiAgXHJcblx0X29uQ2xpY2soZXZlbnQpIHtcclxuXHRcdGNvbnN0IGxvZ2luQnRuID0gZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgbG9nb3V0YClcclxuICAgIFxyXG5cdFx0aWYobG9naW5CdG4pIHtcclxuXHRcdFx0bW92ZVBhZ2UoYGxvZ2luYClcclxuXHRcdH1cdFx0XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gaHRtbGAgXHJcbiAgICA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9zcmMvY3NzL2ZvdW5kYXRpb24ubWluLmNzc1wiPlxyXG5cdFx0JHtzdHlsZX1cclxuXHRcdDxkaXYgY2xhc3M9XCJwYWdlLW1haW5cIj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImhlcm8tZnVsbC1zY3JlZW5cIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidG9wLWNvbnRlbnQtc2VjdGlvblwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRvcC1iYXJcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRvcC1iYXItbGVmdFwiPlxyXG5cdFx0XHRcdFx0XHRcdDx1bCBjbGFzcz1cIm1lbnVcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzcz1cIm1lbnUtdGV4dFwiPjxpbWcgc3JjPVwiaHR0cDovL3BsYWNlaG9sZC5pdC83NXgzMFwiIGFsdD1cImxvZ29cIj48L2xpPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGxpPjxhIGhyZWY9XCIjXCI+TWVudTwvYT48L2xpPlxyXG5cdFx0XHRcdFx0XHRcdDwvdWw+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtaWRkbGUtY29udGVudC1zZWN0aW9uXCI+XHJcblx0XHRcdFx0XHQ8aDE+TWFpbiBQYWdlPC9oMT5cclxuXHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gbGFyZ2UgbG9nb3V0XCI+TG9nb3V0PC9idXR0b24+XHJcblx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3R0b20tY29udGVudC1zZWN0aW9uXCIgZGF0YS1tYWdlbGxhbiBkYXRhLXRocmVzaG9sZD1cIjBcIj5cclxuXHRcdFx0XHRcdDxhIGhyZWY9XCIjbWFpbi1jb250ZW50LXNlY3Rpb25cIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0yNCAxMmMwLTYuNjI3LTUuMzczLTEyLTEyLTEycy0xMiA1LjM3My0xMiAxMiA1LjM3MyAxMiAxMiAxMiAxMi01LjM3MyAxMi0xMnptLTE4LjAwNS0xLjU2OGwxLjQxNS0xLjQxNCA0LjU5IDQuNTc0IDQuNTc5LTQuNTc0IDEuNDE2IDEuNDE0LTUuOTk1IDUuOTg4LTYuMDA1LTUuOTg4elwiLz48L3N2Zz48L2E+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGlkPVwibWFpbi1jb250ZW50LXNlY3Rpb25cIiBkYXRhLW1hZ2VsbGFuLXRhcmdldD1cIm1haW4tY29udGVudC1zZWN0aW9uXCI+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuICAgICAgICBgXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdHlsZSA9IGh0bWxgXHJcbjxzdHlsZT5cclxuLmhlcm8tZnVsbC1zY3JlZW4ge1xyXG4gIHdpZHRoOiAxMDB2dztcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcclxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYmFja2dyb3VuZDogdXJsKFwiaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMzc4MjczL3BleGVscy1waG90by0zNzgyNzMuanBlZz93PTEyNjAmaD03NTAmYXV0bz1jb21wcmVzcyZjcz10aW55c3JnYlwiKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdDtcclxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG59XHJcblxyXG4uaGVyby1mdWxsLXNjcmVlbiAubWlkZGxlLWNvbnRlbnQtc2VjdGlvbiB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGNvbG9yOiAjZmVmZWZlO1xyXG59XHJcblxyXG4uaGVyby1mdWxsLXNjcmVlbiAudG9wLWNvbnRlbnQtc2VjdGlvbiB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5oZXJvLWZ1bGwtc2NyZWVuIC5ib3R0b20tY29udGVudC1zZWN0aW9uIHtcclxuICBwYWRkaW5nOiAxcmVtO1xyXG59XHJcblxyXG4uaGVyby1mdWxsLXNjcmVlbiAuYm90dG9tLWNvbnRlbnQtc2VjdGlvbiBzdmcge1xyXG4gIGhlaWdodDogMy43NXJlbTtcclxuICB3aWR0aDogMy43NXJlbTtcclxuICBmaWxsOiAjZmVmZWZlO1xyXG59XHJcblxyXG4uaGVyby1mdWxsLXNjcmVlbiAudG9wLWJhciB7XHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi5oZXJvLWZ1bGwtc2NyZWVuIC50b3AtYmFyIC5tZW51IHtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLmhlcm8tZnVsbC1zY3JlZW4gLnRvcC1iYXIgLm1lbnUtdGV4dCB7XHJcbiAgY29sb3I6ICNmZWZlZmU7XHJcbn1cclxuXHJcbi5oZXJvLWZ1bGwtc2NyZWVuIC50b3AtYmFyIC5tZW51IGxpIHtcclxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XHJcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uaGVyby1mdWxsLXNjcmVlbiAudG9wLWJhciAubWVudSBhIHtcclxuICBjb2xvcjogI2ZlZmVmZTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG48L3N0eWxlPlxyXG5gXHJcblxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoYGFwcC1tYWluYCwgQXBwTWFpbilcclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdC1odG1sJ1xyXG5cclxuaW1wb3J0IExpdFJlbmRlciBmcm9tICcuLi9saWJzL2xpdFJlbmRlcidcclxuaW1wb3J0IHsgc2lnbnVwIH0gZnJvbSAnLi4vbGlicy9hY3Rpb25zJ1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luRm9ybSBleHRlbmRzIExpdFJlbmRlcihIVE1MRWxlbWVudCkge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0c3VwZXIoKVxyXG5cclxuXHRcdHRoaXMuX2hhbmRsZXJzID0ge31cclxuXHJcblx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IGBvcGVuYCB9KVxyXG5cdFx0dGhpcy5pbnZhbGlkYXRlKHRydWUpXHJcblx0fVxyXG4gIFxyXG5cdGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG5cdFx0Y29uc3Qgcm9vdCA9IHRoaXMuc2hhZG93Um9vdFxyXG5cdFx0Y29uc3QgaGFuZGxlcnMgPSB0aGlzLl9oYW5kbGVyc1xyXG5cclxuXHRcdGhhbmRsZXJzLm9uQ2xpY2sgPSB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcylcdFx0XHRcdFxyXG5cdFx0XHJcblx0XHRyb290LnF1ZXJ5U2VsZWN0b3IoYC5zaWduLWluLWZvcm0tYnV0dG9uYCkuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVycy5vbkNsaWNrKVxyXG5cdH1cclxuXHJcblx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcblx0XHRjb25zdCByb290ID0gdGhpcy5zaGFkb3dSb290XHJcblxyXG5cdFx0cm9vdC5xdWVyeVNlbGVjdG9yKGAuc2lnbi1pbi1mb3JtLWJ1dHRvbmApLnJlbW92ZUV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgdGhpcy5faGFuZGxlcnMub25DbGljaylcclxuXHR9XHJcbiAgXHJcblx0X29uQ2xpY2soKSB7XHJcblx0XHRjb25zdCBpZCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuc2lnbi1pbi1mb3JtLXVzZXJuYW1lYCkudmFsdWVcclxuXHRcdGNvbnN0IHB3ZCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuc2lnbi1pbi1mb3JtLXBhc3N3b3JkYCkudmFsdWVcclxuXHRcdHNpZ251cChpZCwgcHdkKVxyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIGh0bWxgXHJcbiAgICA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9zcmMvY3NzL2ZvdW5kYXRpb24ubWluLmNzc1wiPlxyXG4gICAgJHtzdHlsZX1cclxuICAgIDxkaXYgY2xhc3M9XCJzaWduLWluLWZvcm1cIj5cclxuICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlNpZ24gSW48L2g0PlxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCJzaWduLWluLWZvcm0tdXNlcm5hbWVcIj5Vc2VybmFtZTwvbGFiZWw+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJzaWduLWluLWZvcm0tdXNlcm5hbWVcIiBpZD1cInNpZ24taW4tZm9ybS11c2VybmFtZVwiIHBsYWNlaG9sZGVyPVwiSURcIi8+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cInNpZ24taW4tZm9ybS1wYXNzd29yZFwiPlBhc3N3b3JkPC9sYWJlbD5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgY2xhc3M9XCJzaWduLWluLWZvcm0tcGFzc3dvcmRcIiBpZD1cInNpZ24taW4tZm9ybS1wYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUFdcIi8+XHJcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJzaWduLWluLWZvcm0tYnV0dG9uXCI+U2lnbiBJbjwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgICBgXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdHlsZSA9IGh0bWxgXHJcbjxzdHlsZT5cclxuLnNpZ24taW4tZm9ybSB7XHJcbiAgcGFkZGluZzogMXJlbSAxLjVlbTtcclxuICBib3JkZXItcmFkaXVzOiAuNXJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2Q0NTRmO1xyXG4gIG1heC13aWR0aDogMzIwcHg7XHJcbn1cclxuXHJcbi5zaWduLWluLWZvcm0gaDQge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxufVxyXG5cclxuLnNpZ24taW4tZm9ybSBsYWJlbCB7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICBjb2xvcjogI2FkYWRhZDtcclxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxufVxyXG5cclxuLnNpZ24taW4tZm9ybSBpbnB1dCB7XHJcbiAgY29sb3I6ICM2NjY7XHJcbn1cclxuXHJcbi5zaWduLWluLWZvcm0gaW5wdXQ6Zm9jdXMge1xyXG4gIG9wYWNpdHk6IDAuOTtcclxufVxyXG5cclxuLnNpZ24taW4tZm9ybS11c2VybmFtZSxcclxuLnNpZ24taW4tZm9ybS1wYXNzd29yZCB7XHJcbiAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgZWFzZSAuNHM7XHJcbiAgdHJhbnNpdGlvbjogYWxsIGVhc2UgLjRzO1xyXG59XHJcblxyXG4uc2lnbi1pbi1mb3JtLWJ1dHRvbiB7XHJcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxcmVtO1xyXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIGVhc2UgLjRzO1xyXG4gIHRyYW5zaXRpb246IGFsbCBlYXNlIC40cztcclxufVxyXG5cclxuLnNpZ24taW4tZm9ybS1idXR0b246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0NGM4ZWQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjNDRjOGVkO1xyXG59XHJcbjwvc3R5bGU+XHJcbmBcclxuXHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShgbG9naW4tZm9ybWAsIExvZ2luRm9ybSlcclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdC1odG1sJ1xyXG5cclxuaW1wb3J0IExpdFJlbmRlciBmcm9tICcuLi9saWJzL2xpdFJlbmRlcidcclxuXHJcbmltcG9ydCAnLi9sb2dpbi1mb3JtLmpzJ1xyXG5cclxuY2xhc3MgTG9naW5NYWluIGV4dGVuZHMgTGl0UmVuZGVyKEhUTUxFbGVtZW50KSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRzdXBlcigpXHJcblxyXG5cdFx0dGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBgb3BlbmAgfSlcclxuXHJcblx0XHR0aGlzLmludmFsaWRhdGUoKVxyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIGh0bWxgIFxyXG5cdFx0JHtzdHlsZX1cclxuXHRcdDxkaXYgaWQ9XCJwYWdlTG9naW5cIj5cclxuXHRcdFx0PGxvZ2luLWZvcm0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdHlsZSA9IGh0bWxgXHJcbjxzdHlsZT5cclxuI3BhZ2VMb2dpbiB7XHJcblx0ZGlzcGxheTogLXdlYmtpdC1ib3g7XHJcblx0ZGlzcGxheTogLW1zLWZsZXhib3g7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHQtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XHJcblx0LW1zLWZsZXgtcGFjazogY2VudGVyO1xyXG5cdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XHJcblx0LW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcclxuXHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdHdpZHRoOiA5NXZ3O1xyXG5cdGhlaWdodDogOTh2aDtcclxuXHRtYXJnaW46IGF1dG87XHJcbn1cclxuPC9zdHlsZT5cclxuYFxyXG5cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKGBsb2dpbi1tYWluYCwgTG9naW5NYWluKVxyXG4iLCJpbXBvcnQgJy4vY29tcG9uZW50cy9BcHAuanMnXHJcbmltcG9ydCAnLi9jb21wb25lbnRzL0xvZ2luLmpzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiB7XHJcblx0c3RhdGljIGluaXQoKSB7XHJcblx0XHR0aGlzLmxvYWRpbmdET00oKVxyXG5cclxuXHRcdC8vIFBKQVgg67Cp7IudXHJcblx0XHQvLyB0aGlzLl9vblBvcHN0YXRlKClcclxuXHRcdC8vIHRoaXMuX29uQ2xpY2tBbmNob3IoKVxyXG5cdFx0Ly8gdGhpcy5yb3V0ZXIoYC9gKVxyXG5cclxuXHRcdHRoaXMucm91dGVyKClcclxuXHRcdFx0LmlzUm91dGUoKVxyXG5cdFx0XHQub3RoZXJ3aXNlKClcclxuXHRcdFx0LnB1c2hVcmwoKVxyXG5cdH1cclxuXHJcblx0c3RhdGljIF9vblBvcHN0YXRlKCkge1xyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHBvcHN0YXRlYCwgZXZlbnQgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmluZm8oYFtwb3BzdGF0ZV1gLCBldmVudC5zdGF0ZSlcclxuXHRcdFx0dGhpcy5yb3V0ZXIoZXZlbnQuc3RhdGUucGF0aClcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgX29uQ2xpY2tBbmNob3IoKSB7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGV2ZW50ID0+IHtcclxuXHRcdFx0aWYgKCFldmVudC50YXJnZXQgfHwgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSBgQWApIHtcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fVxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRcclxuXHRcdFx0Y29uc3QgcGF0aCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoYGhyZWZgKVxyXG5cdFx0XHJcblx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKHsgcGF0aCB9LCBudWxsLCBwYXRoKVxyXG5cdFx0XHJcblx0XHRcdHRoaXMucm91dGVyKHBhdGgpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0Ly8gUEpBWCDrsKnsi51cclxuXHQvLyBzdGF0aWMgZ2V0IHJvdXRlcygpIHtcclxuXHQvLyBcdHJldHVybiB7XHJcblx0Ly8gXHRcdCcvJzogZnVuY3Rpb24gKCkge1xyXG5cdC8vIFx0XHRcdE1haW4ucmVuZGVyUGFnZShgYXBwLW1haW5gLCBgL2ApXHJcblx0Ly8gXHRcdH0sXHJcblx0Ly8gXHRcdCcvbG9naW4nOiBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gXHRcdFx0TWFpbi5yZW5kZXJQYWdlKGBsb2dpbi1tYWluYCwgYC9sb2dpbmApXHJcblx0Ly8gXHRcdH0sXHJcblx0Ly8gXHRcdG90aGVyd2lzZSgpIHtcclxuXHQvLyBcdFx0XHRNYWluLmV4Y2VwdERPTSgpXHJcblx0Ly8gXHRcdH0sXHJcblx0Ly8gXHR9XHJcblx0Ly8gfVxyXG5cclxuXHQvLyBzdGF0aWMgcm91dGVyKHBhdGgpIHtcclxuXHQvLyBcdCh0aGlzLnJvdXRlc1twYXRoXSB8fCB0aGlzLnJvdXRlcy5vdGhlcndpc2UpKHBhdGgpXHJcblx0Ly8gfVxyXG5cclxuXHRzdGF0aWMgcm91dGVyKCkge1xyXG5cdFx0bGV0IHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZVxyXG5cdFx0bGV0IGlzQ29udGludWUgPSB0cnVlXHJcblx0XHRpZiAocGF0aCA9PT0gYC9gKSB7cGF0aCA9IGAvYXBwYH1cdFx0XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc1JvdXRlKCkge1xyXG5cdFx0XHRcdGlmIChpc0NvbnRpbnVlKSB7XHJcblx0XHRcdFx0XHRNYWluLnJlbmRlclBhZ2UoYCR7cGF0aC5zcGxpdChgL2ApWzFdfS1tYWluYCwgcGF0aClcclxuXHRcdFx0XHRcdGlzQ29udGludWUgPSBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdGhpc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRvdGhlcndpc2UoKSB7XHJcblx0XHRcdFx0aWYgKGlzQ29udGludWUpIHtcclxuXHRcdFx0XHRcdE1haW4uX29uTG9hZCgoKSA9PiBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgbnVsbCwgYGxvZ2luYCkpXHJcblx0XHRcdFx0XHRNYWluLnJlbmRlclBhZ2UoYGxvZ2luLW1haW5gLCBwYXRoKVxyXG5cdFx0XHRcdFx0aXNDb250aW51ZSA9IGZhbHNlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0aGlzXHJcblx0XHRcdH0sXHJcblx0XHRcdHB1c2hVcmwoKSB7XHJcblx0XHRcdFx0aWYgKGlzQ29udGludWUpIHtcdFxyXG5cdFx0XHRcdFx0TWFpbi5fb25Mb2FkKCgpID0+IGhpc3RvcnkucHVzaFN0YXRlKHt9LCBudWxsLCBwYXRoKSlcdFx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c3RhdGljIF9vbkxvYWQoY2FsbGJhY2spIHtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBsb2FkYCwgKCkgPT4ge1x0XHRcdFxyXG5cdFx0XHRjYWxsYmFjaygpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3RhdGljIGxvYWRpbmdET00oKSB7XHJcblx0XHRjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgbWFpbmApXHJcblx0XHRjb25zdCBsb2FkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YClcclxuXHRcdGNvbnN0IEZJVkUgPSA1XHJcblx0XHRcdFx0XHJcblx0XHR0aGlzLmVtcHR5RE9NKClcclxuXHRcdGxvYWRpbmcuY2xhc3NMaXN0LmFkZChgbG9hZGluZ2ApXHJcblx0XHRmb3IgKGxldCBpPTA7IGkgPCBGSVZFOyBpKyspIHtcclxuXHRcdFx0bG9hZGluZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBzcGFuYCkpXHJcblx0XHR9XHJcblx0XHRyb290LmFwcGVuZENoaWxkKGxvYWRpbmcpXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcmVuZGVyUGFnZShwYWdlTmFtZSwgcGF0aCkge1xyXG5cdFx0dGhpcy5lbXB0eURPTSgpXHJcblx0XHRjb25zdCBwYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFnZU5hbWUpXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBtYWluYCkuYXBwZW5kQ2hpbGQocGFnZUVsZW1lbnQpXHJcblx0XHRoaXN0b3J5LnB1c2hTdGF0ZSh7fSwgcGFnZU5hbWUsIHBhdGgpXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZW1wdHlET00oKSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBtYWluYCkuaW5uZXJIVE1MID0gYGBcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBleGNlcHRET00oKSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBtYWluYCkuaW5uZXJIVE1MID0gYE5vIFJvdXRlYFxyXG5cdH1cclxufVxyXG5cclxuTWFpbi5pbml0KClcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==